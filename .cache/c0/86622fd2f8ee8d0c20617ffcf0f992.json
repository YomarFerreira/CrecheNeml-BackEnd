{"id":"ocwK","dependencies":[{"name":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\package.json","includedInParent":true,"mtime":1703819649038},{"name":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\node_modules\\express-fileupload\\package.json","includedInParent":true,"mtime":1703631259269},{"name":"busboy","loc":{"line":1,"column":23,"index":23},"parent":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\node_modules\\express-fileupload\\lib\\processMultipart.js","resolved":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\node_modules\\busboy\\lib\\index.js"},{"name":"./uploadtimer","loc":{"line":2,"column":28,"index":63},"parent":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\node_modules\\express-fileupload\\lib\\processMultipart.js","resolved":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\node_modules\\express-fileupload\\lib\\uploadtimer.js"},{"name":"./fileFactory","loc":{"line":3,"column":28,"index":110},"parent":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\node_modules\\express-fileupload\\lib\\processMultipart.js","resolved":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\node_modules\\express-fileupload\\lib\\fileFactory.js"},{"name":"./memHandler","loc":{"line":4,"column":27,"index":156},"parent":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\node_modules\\express-fileupload\\lib\\processMultipart.js","resolved":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\node_modules\\express-fileupload\\lib\\memHandler.js"},{"name":"./tempFileHandler","loc":{"line":5,"column":32,"index":206},"parent":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\node_modules\\express-fileupload\\lib\\processMultipart.js","resolved":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\node_modules\\express-fileupload\\lib\\tempFileHandler.js"},{"name":"./processNested","loc":{"line":6,"column":30,"index":259},"parent":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\node_modules\\express-fileupload\\lib\\processMultipart.js","resolved":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\node_modules\\express-fileupload\\lib\\processNested.js"},{"name":"./utilities","loc":{"line":13,"column":12,"index":375},"parent":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\node_modules\\express-fileupload\\lib\\processMultipart.js","resolved":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\node_modules\\express-fileupload\\lib\\utilities.js"},{"name":"buffer","parent":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\node_modules\\express-fileupload\\lib\\processMultipart.js","resolved":"C:\\workspace\\Neml Node_React\\BackEnd_Node\\node_modules\\buffer\\index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"buffer\").Buffer,n=require(\"busboy\"),t=require(\"./uploadtimer\"),i=require(\"./fileFactory\"),o=require(\"./memHandler\"),r=require(\"./tempFileHandler\"),a=require(\"./processNested\"),c=require(\"./utilities\"),s=c.isFunc,l=c.debugLog,u=c.buildFields,d=c.buildOptions,f=c.parseFileName,m=Symbol(\"wait flush property symbol\");module.exports=function(c,p,b,y){p.files=null;var h=d(c,{headers:p.headers}),g=n(h);p.body instanceof e&&(p.body=Object.create(null)),g.on(\"field\",function(e,n){return p.body=u(p.body,e,n)}),g.on(\"file\",function(e,n,a){var d=a.filename,h=a.encoding,F=a.mimeType,q=f(c,d),v=c.useTempFiles?r(c,e,q):o(c,e,q),H=v.dataHandler,w=v.getFilePath,z=v.getFileSize,T=v.getHash,B=v.complete,L=v.cleanup,N=v.getWritePromise,O=c.useTempFiles?N().catch(function(e){p.unpipe(g),p.resume(),L(),y(e)}):N(),P=new t(c.uploadTimeout,function(){n.removeAllListeners(\"data\"),n.resume();var t=new Error(\"Upload timeout for \".concat(e,\"->\").concat(q,\", bytes:\").concat(z()));return s(n.destroy)?n.destroy(t):n.emit(\"error\",t)});n.on(\"limit\",function(){l(c,\"Size limit reached for \".concat(e,\"->\").concat(q,\", bytes:\").concat(z())),P.clear(),s(c.limitHandler)&&c.limitHandler(p,b,y),c.abortOnLimit&&(l(c,\"Aborting upload because of size limit \".concat(e,\"->\").concat(q,\".\")),function(e,n){if(p.unpipe(g),p.resume(),b.headersSent)l(c,\"Headers already sent, can't close connection.\");else{var t=e||400,i=n||\"Bad Request\";l(c,\"Closing connection with \".concat(t,\": \").concat(i)),b.writeHead(t,{Connection:\"close\"}),b.end(i)}}(413,c.responseOnLimit),L())}),n.on(\"data\",function(e){P.set(),H(e)}),n.on(\"end\",function(){var t=z();if(l(c,\"Upload finished \".concat(e,\"->\").concat(q,\", bytes:\").concat(t)),P.clear(),!d&&0===t)return c.useTempFiles&&(L(),l(c,\"Removing the empty file \".concat(e,\"->\").concat(q))),l(c,\"Don't add file instance if original name and size are empty\");p.files=u(p.files,e,i({buffer:B(),name:q,tempFilePath:w(),hash:T(),size:t,encoding:h,truncated:n.truncated,mimetype:F},c)),p[m]||(p[m]=[]),p[m].push(O)}),n.on(\"error\",function(e){P.clear(),l(c,e),L(),y()}),l(c,\"New upload started \".concat(e,\"->\").concat(q,\", bytes:\").concat(z())),P.set()}),g.on(\"finish\",function(){if(l(c,\"Busboy finished parsing request.\"),c.parseNested&&(p.body=a(p.body),p.files=a(p.files)),!p[m])return y();Promise.all(p[m]).then(function(){delete p[m],y()})}),g.on(\"error\",function(e){l(c,\"Busboy error\"),y(e)}),p.pipe(g)};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":185,"column":1},"generated":{"line":2,"column":0}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":185,"column":1},"generated":{"line":2,"column":4}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":185,"column":1},"generated":{"line":2,"column":6}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":185,"column":1},"generated":{"line":2,"column":14}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":185,"column":1},"generated":{"line":2,"column":24}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"Busboy","original":{"line":1,"column":6},"generated":{"line":2,"column":31}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"require","original":{"line":1,"column":15},"generated":{"line":2,"column":33}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":1,"column":23},"generated":{"line":2,"column":41}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"UploadTimer","original":{"line":2,"column":6},"generated":{"line":2,"column":51}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"require","original":{"line":2,"column":20},"generated":{"line":2,"column":53}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":2,"column":28},"generated":{"line":2,"column":61}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"fileFactory","original":{"line":3,"column":6},"generated":{"line":2,"column":78}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"require","original":{"line":3,"column":20},"generated":{"line":2,"column":80}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":3,"column":28},"generated":{"line":2,"column":88}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"memHandler","original":{"line":4,"column":6},"generated":{"line":2,"column":105}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"require","original":{"line":4,"column":19},"generated":{"line":2,"column":107}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":4,"column":27},"generated":{"line":2,"column":115}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"tempFileHandler","original":{"line":5,"column":6},"generated":{"line":2,"column":131}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"require","original":{"line":5,"column":24},"generated":{"line":2,"column":133}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":5,"column":32},"generated":{"line":2,"column":141}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"processNested","original":{"line":6,"column":6},"generated":{"line":2,"column":162}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"require","original":{"line":6,"column":22},"generated":{"line":2,"column":164}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":6,"column":30},"generated":{"line":2,"column":172}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"_require","original":{"line":7,"column":0},"generated":{"line":2,"column":191}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"require","original":{"line":13,"column":4},"generated":{"line":2,"column":193}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":13,"column":12},"generated":{"line":2,"column":201}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"isFunc","original":{"line":8,"column":2},"generated":{"line":2,"column":216}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"_require","original":{"line":8,"column":8},"generated":{"line":2,"column":218}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"isFunc","original":{"line":8,"column":2},"generated":{"line":2,"column":220}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"debugLog","original":{"line":9,"column":2},"generated":{"line":2,"column":227}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"_require","original":{"line":9,"column":10},"generated":{"line":2,"column":229}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"debugLog","original":{"line":9,"column":2},"generated":{"line":2,"column":231}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"buildFields","original":{"line":10,"column":2},"generated":{"line":2,"column":240}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"_require","original":{"line":10,"column":13},"generated":{"line":2,"column":242}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"buildFields","original":{"line":10,"column":2},"generated":{"line":2,"column":244}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"buildOptions","original":{"line":11,"column":2},"generated":{"line":2,"column":256}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"_require","original":{"line":11,"column":14},"generated":{"line":2,"column":258}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"buildOptions","original":{"line":11,"column":2},"generated":{"line":2,"column":260}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"parseFileName","original":{"line":12,"column":2},"generated":{"line":2,"column":273}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"_require","original":{"line":12,"column":15},"generated":{"line":2,"column":275}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"parseFileName","original":{"line":12,"column":2},"generated":{"line":2,"column":277}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"waitFlushProperty","original":{"line":15,"column":6},"generated":{"line":2,"column":291}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"Symbol","original":{"line":15,"column":26},"generated":{"line":2,"column":293}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":15,"column":33},"generated":{"line":2,"column":300}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"module","original":{"line":27,"column":0},"generated":{"line":2,"column":330}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"exports","original":{"line":27,"column":7},"generated":{"line":2,"column":337}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":27,"column":17},"generated":{"line":2,"column":345}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":27,"column":18},"generated":{"line":2,"column":354}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":27,"column":27},"generated":{"line":2,"column":356}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"res","original":{"line":27,"column":32},"generated":{"line":2,"column":358}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"next","original":{"line":27,"column":37},"generated":{"line":2,"column":360}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":28,"column":2},"generated":{"line":2,"column":363}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"files","original":{"line":28,"column":6},"generated":{"line":2,"column":365}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":28,"column":14},"generated":{"line":2,"column":371}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":31,"column":2},"generated":{"line":2,"column":376}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"busboyOptions","original":{"line":31,"column":8},"generated":{"line":2,"column":380}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"buildOptions","original":{"line":31,"column":24},"generated":{"line":2,"column":382}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":31,"column":37},"generated":{"line":2,"column":384}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":31,"column":46},"generated":{"line":2,"column":386}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"headers","original":{"line":31,"column":48},"generated":{"line":2,"column":387}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":31,"column":57},"generated":{"line":2,"column":395}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"headers","original":{"line":31,"column":61},"generated":{"line":2,"column":397}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"busboy","original":{"line":32,"column":8},"generated":{"line":2,"column":407}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"Busboy","original":{"line":32,"column":17},"generated":{"line":2,"column":409}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"busboyOptions","original":{"line":32,"column":24},"generated":{"line":2,"column":411}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":54,"column":6},"generated":{"line":2,"column":414}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"body","original":{"line":54,"column":10},"generated":{"line":2,"column":416}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"Buffer","original":{"line":54,"column":26},"generated":{"line":2,"column":432}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":55,"column":4},"generated":{"line":2,"column":436}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"body","original":{"line":55,"column":8},"generated":{"line":2,"column":438}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"Object","original":{"line":55,"column":15},"generated":{"line":2,"column":443}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"create","original":{"line":55,"column":22},"generated":{"line":2,"column":450}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":55,"column":29},"generated":{"line":2,"column":457}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"busboy","original":{"line":58,"column":2},"generated":{"line":2,"column":464}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"on","original":{"line":58,"column":9},"generated":{"line":2,"column":466}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":58,"column":12},"generated":{"line":2,"column":469}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":58,"column":21},"generated":{"line":2,"column":477}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"field","original":{"line":58,"column":22},"generated":{"line":2,"column":486}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"val","original":{"line":58,"column":29},"generated":{"line":2,"column":488}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":58,"column":32},"generated":{"line":2,"column":491}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":58,"column":37},"generated":{"line":2,"column":498}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"body","original":{"line":58,"column":41},"generated":{"line":2,"column":500}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"buildFields","original":{"line":58,"column":48},"generated":{"line":2,"column":505}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":58,"column":60},"generated":{"line":2,"column":507}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"body","original":{"line":58,"column":64},"generated":{"line":2,"column":509}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"field","original":{"line":58,"column":70},"generated":{"line":2,"column":514}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"val","original":{"line":58,"column":77},"generated":{"line":2,"column":516}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"busboy","original":{"line":61,"column":2},"generated":{"line":2,"column":521}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"on","original":{"line":61,"column":9},"generated":{"line":2,"column":523}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":61,"column":12},"generated":{"line":2,"column":526}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":61,"column":20},"generated":{"line":2,"column":533}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"field","original":{"line":61,"column":21},"generated":{"line":2,"column":542}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"file","original":{"line":61,"column":28},"generated":{"line":2,"column":544}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"info","original":{"line":61,"column":34},"generated":{"line":2,"column":546}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":63,"column":4},"generated":{"line":2,"column":549}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"name","original":{"line":63,"column":20},"generated":{"line":2,"column":553}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"info","original":{"line":63,"column":54},"generated":{"line":2,"column":555}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"filename","original":{"line":63,"column":11},"generated":{"line":2,"column":557}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"encoding","original":{"line":63,"column":26},"generated":{"line":2,"column":566}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"info","original":{"line":63,"column":54},"generated":{"line":2,"column":568}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"encoding","original":{"line":63,"column":26},"generated":{"line":2,"column":570}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"mime","original":{"line":63,"column":46},"generated":{"line":2,"column":579}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"info","original":{"line":63,"column":54},"generated":{"line":2,"column":581}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"mimeType","original":{"line":63,"column":36},"generated":{"line":2,"column":583}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"filename","original":{"line":64,"column":10},"generated":{"line":2,"column":592}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"parseFileName","original":{"line":64,"column":21},"generated":{"line":2,"column":594}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":64,"column":35},"generated":{"line":2,"column":596}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"name","original":{"line":64,"column":44},"generated":{"line":2,"column":598}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"_ref","original":{"line":66,"column":4},"generated":{"line":2,"column":601}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":74,"column":8},"generated":{"line":2,"column":603}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"useTempFiles","original":{"line":74,"column":16},"generated":{"line":2,"column":605}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"tempFileHandler","original":{"line":75,"column":8},"generated":{"line":2,"column":618}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":75,"column":24},"generated":{"line":2,"column":620}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"field","original":{"line":75,"column":33},"generated":{"line":2,"column":622}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"filename","original":{"line":75,"column":40},"generated":{"line":2,"column":624}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"memHandler","original":{"line":76,"column":8},"generated":{"line":2,"column":627}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":76,"column":19},"generated":{"line":2,"column":629}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"field","original":{"line":76,"column":28},"generated":{"line":2,"column":631}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"filename","original":{"line":76,"column":35},"generated":{"line":2,"column":633}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"dataHandler","original":{"line":67,"column":6},"generated":{"line":2,"column":636}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"_ref","original":{"line":67,"column":17},"generated":{"line":2,"column":638}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"dataHandler","original":{"line":67,"column":6},"generated":{"line":2,"column":640}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"getFilePath","original":{"line":68,"column":6},"generated":{"line":2,"column":652}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"_ref","original":{"line":68,"column":17},"generated":{"line":2,"column":654}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"getFilePath","original":{"line":68,"column":6},"generated":{"line":2,"column":656}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"getFileSize","original":{"line":69,"column":6},"generated":{"line":2,"column":668}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"_ref","original":{"line":69,"column":17},"generated":{"line":2,"column":670}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"getFileSize","original":{"line":69,"column":6},"generated":{"line":2,"column":672}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"getHash","original":{"line":70,"column":6},"generated":{"line":2,"column":684}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"_ref","original":{"line":70,"column":13},"generated":{"line":2,"column":686}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"getHash","original":{"line":70,"column":6},"generated":{"line":2,"column":688}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"complete","original":{"line":71,"column":6},"generated":{"line":2,"column":696}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"_ref","original":{"line":71,"column":14},"generated":{"line":2,"column":698}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"complete","original":{"line":71,"column":6},"generated":{"line":2,"column":700}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"cleanup","original":{"line":72,"column":6},"generated":{"line":2,"column":709}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"_ref","original":{"line":72,"column":13},"generated":{"line":2,"column":711}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"cleanup","original":{"line":72,"column":6},"generated":{"line":2,"column":713}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"getWritePromise","original":{"line":73,"column":6},"generated":{"line":2,"column":721}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"_ref","original":{"line":73,"column":21},"generated":{"line":2,"column":723}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"getWritePromise","original":{"line":73,"column":6},"generated":{"line":2,"column":725}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"writePromise","original":{"line":78,"column":10},"generated":{"line":2,"column":741}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":78,"column":25},"generated":{"line":2,"column":743}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"useTempFiles","original":{"line":78,"column":33},"generated":{"line":2,"column":745}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"getWritePromise","original":{"line":79,"column":8},"generated":{"line":2,"column":758}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"catch","original":{"line":79,"column":26},"generated":{"line":2,"column":762}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":79,"column":32},"generated":{"line":2,"column":768}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"err","original":{"line":79,"column":32},"generated":{"line":2,"column":777}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":80,"column":8},"generated":{"line":2,"column":780}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"unpipe","original":{"line":80,"column":12},"generated":{"line":2,"column":782}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"busboy","original":{"line":80,"column":19},"generated":{"line":2,"column":789}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":81,"column":8},"generated":{"line":2,"column":792}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"resume","original":{"line":81,"column":12},"generated":{"line":2,"column":794}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"cleanup","original":{"line":82,"column":8},"generated":{"line":2,"column":803}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"next","original":{"line":83,"column":8},"generated":{"line":2,"column":807}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"err","original":{"line":83,"column":13},"generated":{"line":2,"column":809}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"getWritePromise","original":{"line":84,"column":11},"generated":{"line":2,"column":814}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"uploadTimer","original":{"line":87,"column":10},"generated":{"line":2,"column":818}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":87,"column":24},"generated":{"line":2,"column":820}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"UploadTimer","original":{"line":87,"column":28},"generated":{"line":2,"column":824}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":87,"column":40},"generated":{"line":2,"column":826}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"uploadTimeout","original":{"line":87,"column":48},"generated":{"line":2,"column":828}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":87,"column":63},"generated":{"line":2,"column":842}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"file","original":{"line":88,"column":6},"generated":{"line":2,"column":853}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"removeAllListeners","original":{"line":88,"column":11},"generated":{"line":2,"column":855}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":88,"column":30},"generated":{"line":2,"column":874}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"file","original":{"line":89,"column":6},"generated":{"line":2,"column":882}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"resume","original":{"line":89,"column":11},"generated":{"line":2,"column":884}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":93,"column":6},"generated":{"line":2,"column":893}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"err","original":{"line":93,"column":12},"generated":{"line":2,"column":897}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":93,"column":18},"generated":{"line":2,"column":899}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"Error","original":{"line":93,"column":22},"generated":{"line":2,"column":903}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":93,"column":27},"generated":{"line":2,"column":909}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":93,"column":27},"generated":{"line":2,"column":931}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"field","original":{"line":93,"column":50},"generated":{"line":2,"column":938}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":93,"column":55},"generated":{"line":2,"column":940}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":93,"column":55},"generated":{"line":2,"column":946}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"filename","original":{"line":93,"column":60},"generated":{"line":2,"column":953}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":93,"column":68},"generated":{"line":2,"column":955}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":93,"column":68},"generated":{"line":2,"column":967}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"getFileSize","original":{"line":93,"column":79},"generated":{"line":2,"column":974}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":94,"column":6},"generated":{"line":2,"column":980}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"isFunc","original":{"line":94,"column":13},"generated":{"line":2,"column":987}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"file","original":{"line":94,"column":20},"generated":{"line":2,"column":989}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"destroy","original":{"line":94,"column":25},"generated":{"line":2,"column":991}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"file","original":{"line":94,"column":36},"generated":{"line":2,"column":1000}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"destroy","original":{"line":94,"column":41},"generated":{"line":2,"column":1002}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"err","original":{"line":94,"column":49},"generated":{"line":2,"column":1010}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"file","original":{"line":94,"column":56},"generated":{"line":2,"column":1013}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"emit","original":{"line":94,"column":61},"generated":{"line":2,"column":1015}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":94,"column":66},"generated":{"line":2,"column":1020}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"err","original":{"line":94,"column":75},"generated":{"line":2,"column":1028}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"file","original":{"line":97,"column":4},"generated":{"line":2,"column":1033}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"on","original":{"line":97,"column":9},"generated":{"line":2,"column":1035}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":97,"column":12},"generated":{"line":2,"column":1038}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":97,"column":21},"generated":{"line":2,"column":1046}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"debugLog","original":{"line":98,"column":6},"generated":{"line":2,"column":1057}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":98,"column":15},"generated":{"line":2,"column":1059}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":98,"column":22},"generated":{"line":2,"column":1061}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":98,"column":22},"generated":{"line":2,"column":1087}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"field","original":{"line":98,"column":50},"generated":{"line":2,"column":1094}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":98,"column":55},"generated":{"line":2,"column":1096}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":98,"column":55},"generated":{"line":2,"column":1102}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"filename","original":{"line":98,"column":60},"generated":{"line":2,"column":1109}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":98,"column":68},"generated":{"line":2,"column":1111}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":98,"column":68},"generated":{"line":2,"column":1123}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"getFileSize","original":{"line":98,"column":79},"generated":{"line":2,"column":1130}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"uploadTimer","original":{"line":100,"column":6},"generated":{"line":2,"column":1136}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"clear","original":{"line":100,"column":18},"generated":{"line":2,"column":1138}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"isFunc","original":{"line":102,"column":10},"generated":{"line":2,"column":1146}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":102,"column":17},"generated":{"line":2,"column":1148}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"limitHandler","original":{"line":102,"column":25},"generated":{"line":2,"column":1150}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":103,"column":8},"generated":{"line":2,"column":1165}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"limitHandler","original":{"line":103,"column":16},"generated":{"line":2,"column":1167}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":103,"column":29},"generated":{"line":2,"column":1180}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"res","original":{"line":103,"column":34},"generated":{"line":2,"column":1182}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"next","original":{"line":103,"column":39},"generated":{"line":2,"column":1184}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":106,"column":10},"generated":{"line":2,"column":1187}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"abortOnLimit","original":{"line":106,"column":18},"generated":{"line":2,"column":1189}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"debugLog","original":{"line":107,"column":8},"generated":{"line":2,"column":1204}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":107,"column":17},"generated":{"line":2,"column":1206}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":107,"column":24},"generated":{"line":2,"column":1208}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":107,"column":24},"generated":{"line":2,"column":1249}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"field","original":{"line":107,"column":67},"generated":{"line":2,"column":1256}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":107,"column":72},"generated":{"line":2,"column":1258}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":107,"column":72},"generated":{"line":2,"column":1264}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"filename","original":{"line":107,"column":77},"generated":{"line":2,"column":1271}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":107,"column":88},"generated":{"line":2,"column":1273}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":39,"column":26},"generated":{"line":2,"column":1279}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"code","original":{"line":39,"column":27},"generated":{"line":2,"column":1288}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"reason","original":{"line":39,"column":33},"generated":{"line":2,"column":1290}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":42,"column":4},"generated":{"line":2,"column":1293}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":40,"column":4},"generated":{"line":2,"column":1296}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"unpipe","original":{"line":40,"column":8},"generated":{"line":2,"column":1298}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"busboy","original":{"line":40,"column":15},"generated":{"line":2,"column":1305}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":41,"column":4},"generated":{"line":2,"column":1308}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"resume","original":{"line":41,"column":8},"generated":{"line":2,"column":1310}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"res","original":{"line":42,"column":8},"generated":{"line":2,"column":1319}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"headersSent","original":{"line":42,"column":12},"generated":{"line":2,"column":1321}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"debugLog","original":{"line":43,"column":6},"generated":{"line":2,"column":1333}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":43,"column":15},"generated":{"line":2,"column":1335}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":43,"column":24},"generated":{"line":2,"column":1337}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":42,"column":4},"generated":{"line":2,"column":1390}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":46,"column":4},"generated":{"line":2,"column":1391}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"resCode","original":{"line":46,"column":10},"generated":{"line":2,"column":1395}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"code","original":{"line":46,"column":20},"generated":{"line":2,"column":1397}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":46,"column":28},"generated":{"line":2,"column":1400}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"resReason","original":{"line":47,"column":10},"generated":{"line":2,"column":1404}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"reason","original":{"line":47,"column":22},"generated":{"line":2,"column":1406}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":47,"column":32},"generated":{"line":2,"column":1409}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"debugLog","original":{"line":48,"column":4},"generated":{"line":2,"column":1423}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":48,"column":13},"generated":{"line":2,"column":1425}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":48,"column":20},"generated":{"line":2,"column":1427}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":48,"column":20},"generated":{"line":2,"column":1454}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"resCode","original":{"line":48,"column":49},"generated":{"line":2,"column":1461}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":48,"column":56},"generated":{"line":2,"column":1463}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":48,"column":56},"generated":{"line":2,"column":1469}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"resReason","original":{"line":48,"column":61},"generated":{"line":2,"column":1476}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"res","original":{"line":49,"column":4},"generated":{"line":2,"column":1480}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"writeHead","original":{"line":49,"column":8},"generated":{"line":2,"column":1482}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"resCode","original":{"line":49,"column":18},"generated":{"line":2,"column":1492}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":49,"column":27},"generated":{"line":2,"column":1494}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"Connection","original":{"line":49,"column":29},"generated":{"line":2,"column":1495}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":49,"column":41},"generated":{"line":2,"column":1506}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"res","original":{"line":50,"column":4},"generated":{"line":2,"column":1516}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"end","original":{"line":50,"column":8},"generated":{"line":2,"column":1518}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"resReason","original":{"line":50,"column":12},"generated":{"line":2,"column":1522}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"closeConnection","original":{"line":108,"column":8},"generated":{"line":2,"column":1526}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":108,"column":24},"generated":{"line":2,"column":1527}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":108,"column":29},"generated":{"line":2,"column":1531}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"responseOnLimit","original":{"line":108,"column":37},"generated":{"line":2,"column":1533}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"cleanup","original":{"line":109,"column":8},"generated":{"line":2,"column":1550}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"file","original":{"line":113,"column":4},"generated":{"line":2,"column":1557}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"on","original":{"line":113,"column":9},"generated":{"line":2,"column":1559}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":113,"column":12},"generated":{"line":2,"column":1562}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":113,"column":20},"generated":{"line":2,"column":1569}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"data","original":{"line":113,"column":21},"generated":{"line":2,"column":1578}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"uploadTimer","original":{"line":114,"column":6},"generated":{"line":2,"column":1581}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"set","original":{"line":114,"column":18},"generated":{"line":2,"column":1583}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"dataHandler","original":{"line":115,"column":6},"generated":{"line":2,"column":1589}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"data","original":{"line":115,"column":18},"generated":{"line":2,"column":1591}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"file","original":{"line":118,"column":4},"generated":{"line":2,"column":1596}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"on","original":{"line":118,"column":9},"generated":{"line":2,"column":1598}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":118,"column":12},"generated":{"line":2,"column":1601}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":118,"column":19},"generated":{"line":2,"column":1607}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":119,"column":6},"generated":{"line":2,"column":1618}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"size","original":{"line":119,"column":12},"generated":{"line":2,"column":1622}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"getFileSize","original":{"line":119,"column":19},"generated":{"line":2,"column":1624}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":127,"column":6},"generated":{"line":2,"column":1628}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"debugLog","original":{"line":121,"column":6},"generated":{"line":2,"column":1631}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":121,"column":15},"generated":{"line":2,"column":1633}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":121,"column":22},"generated":{"line":2,"column":1635}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":121,"column":22},"generated":{"line":2,"column":1654}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"field","original":{"line":121,"column":43},"generated":{"line":2,"column":1661}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":121,"column":48},"generated":{"line":2,"column":1663}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":121,"column":48},"generated":{"line":2,"column":1669}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"filename","original":{"line":121,"column":53},"generated":{"line":2,"column":1676}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":121,"column":61},"generated":{"line":2,"column":1678}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":121,"column":61},"generated":{"line":2,"column":1690}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"size","original":{"line":121,"column":72},"generated":{"line":2,"column":1697}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"uploadTimer","original":{"line":123,"column":6},"generated":{"line":2,"column":1701}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"clear","original":{"line":123,"column":18},"generated":{"line":2,"column":1703}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"name","original":{"line":127,"column":11},"generated":{"line":2,"column":1712}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":127,"column":28},"generated":{"line":2,"column":1715}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"size","original":{"line":127,"column":19},"generated":{"line":2,"column":1719}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":132,"column":8},"generated":{"line":2,"column":1721}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":128,"column":12},"generated":{"line":2,"column":1728}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"useTempFiles","original":{"line":128,"column":20},"generated":{"line":2,"column":1730}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"cleanup","original":{"line":129,"column":10},"generated":{"line":2,"column":1745}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"debugLog","original":{"line":130,"column":10},"generated":{"line":2,"column":1749}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":130,"column":19},"generated":{"line":2,"column":1751}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":130,"column":26},"generated":{"line":2,"column":1753}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":130,"column":26},"generated":{"line":2,"column":1780}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"field","original":{"line":130,"column":55},"generated":{"line":2,"column":1787}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":130,"column":60},"generated":{"line":2,"column":1789}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":130,"column":60},"generated":{"line":2,"column":1795}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"filename","original":{"line":130,"column":65},"generated":{"line":2,"column":1802}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"debugLog","original":{"line":132,"column":15},"generated":{"line":2,"column":1807}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":132,"column":24},"generated":{"line":2,"column":1809}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":132,"column":94},"generated":{"line":2,"column":1811}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":134,"column":6},"generated":{"line":2,"column":1874}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"files","original":{"line":134,"column":10},"generated":{"line":2,"column":1876}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"buildFields","original":{"line":134,"column":18},"generated":{"line":2,"column":1882}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":134,"column":30},"generated":{"line":2,"column":1884}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"files","original":{"line":134,"column":34},"generated":{"line":2,"column":1886}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"field","original":{"line":134,"column":41},"generated":{"line":2,"column":1892}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"fileFactory","original":{"line":134,"column":48},"generated":{"line":2,"column":1894}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":134,"column":60},"generated":{"line":2,"column":1896}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"buffer","original":{"line":135,"column":8},"generated":{"line":2,"column":1897}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"complete","original":{"line":135,"column":16},"generated":{"line":2,"column":1904}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"name","original":{"line":136,"column":8},"generated":{"line":2,"column":1908}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"filename","original":{"line":136,"column":14},"generated":{"line":2,"column":1913}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"tempFilePath","original":{"line":137,"column":8},"generated":{"line":2,"column":1915}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"getFilePath","original":{"line":137,"column":22},"generated":{"line":2,"column":1928}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"hash","original":{"line":138,"column":8},"generated":{"line":2,"column":1932}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"getHash","original":{"line":138,"column":14},"generated":{"line":2,"column":1937}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"size","original":{"line":139,"column":8},"generated":{"line":2,"column":1941}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"size","original":{"line":139,"column":8},"generated":{"line":2,"column":1946}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"encoding","original":{"line":140,"column":8},"generated":{"line":2,"column":1948}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"encoding","original":{"line":140,"column":8},"generated":{"line":2,"column":1957}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"truncated","original":{"line":141,"column":8},"generated":{"line":2,"column":1959}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"file","original":{"line":141,"column":19},"generated":{"line":2,"column":1969}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"truncated","original":{"line":141,"column":24},"generated":{"line":2,"column":1971}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"mimetype","original":{"line":142,"column":8},"generated":{"line":2,"column":1981}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"mime","original":{"line":142,"column":18},"generated":{"line":2,"column":1990}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":143,"column":9},"generated":{"line":2,"column":1993}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":145,"column":11},"generated":{"line":2,"column":1997}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"waitFlushProperty","original":{"line":145,"column":15},"generated":{"line":2,"column":1999}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":146,"column":8},"generated":{"line":2,"column":2004}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"waitFlushProperty","original":{"line":146,"column":12},"generated":{"line":2,"column":2006}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":146,"column":33},"generated":{"line":2,"column":2009}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":148,"column":6},"generated":{"line":2,"column":2013}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"waitFlushProperty","original":{"line":148,"column":10},"generated":{"line":2,"column":2015}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"push","original":{"line":148,"column":29},"generated":{"line":2,"column":2018}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"writePromise","original":{"line":148,"column":34},"generated":{"line":2,"column":2023}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"file","original":{"line":151,"column":4},"generated":{"line":2,"column":2028}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"on","original":{"line":151,"column":9},"generated":{"line":2,"column":2030}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":151,"column":12},"generated":{"line":2,"column":2033}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":151,"column":21},"generated":{"line":2,"column":2041}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"err","original":{"line":151,"column":22},"generated":{"line":2,"column":2050}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"uploadTimer","original":{"line":152,"column":6},"generated":{"line":2,"column":2053}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"clear","original":{"line":152,"column":18},"generated":{"line":2,"column":2055}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"debugLog","original":{"line":153,"column":6},"generated":{"line":2,"column":2063}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":153,"column":15},"generated":{"line":2,"column":2065}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"err","original":{"line":153,"column":24},"generated":{"line":2,"column":2067}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"cleanup","original":{"line":154,"column":6},"generated":{"line":2,"column":2070}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"next","original":{"line":155,"column":6},"generated":{"line":2,"column":2074}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"debugLog","original":{"line":159,"column":4},"generated":{"line":2,"column":2080}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":159,"column":13},"generated":{"line":2,"column":2082}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":159,"column":20},"generated":{"line":2,"column":2084}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":159,"column":20},"generated":{"line":2,"column":2106}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"field","original":{"line":159,"column":44},"generated":{"line":2,"column":2113}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":159,"column":49},"generated":{"line":2,"column":2115}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":159,"column":49},"generated":{"line":2,"column":2121}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"filename","original":{"line":159,"column":54},"generated":{"line":2,"column":2128}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":159,"column":62},"generated":{"line":2,"column":2130}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"concat","original":{"line":159,"column":62},"generated":{"line":2,"column":2142}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"getFileSize","original":{"line":159,"column":73},"generated":{"line":2,"column":2149}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"uploadTimer","original":{"line":161,"column":4},"generated":{"line":2,"column":2155}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"set","original":{"line":161,"column":16},"generated":{"line":2,"column":2157}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"busboy","original":{"line":164,"column":2},"generated":{"line":2,"column":2165}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"on","original":{"line":164,"column":9},"generated":{"line":2,"column":2167}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":164,"column":12},"generated":{"line":2,"column":2170}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":164,"column":22},"generated":{"line":2,"column":2179}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":171,"column":4},"generated":{"line":2,"column":2190}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"debugLog","original":{"line":165,"column":4},"generated":{"line":2,"column":2193}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":165,"column":13},"generated":{"line":2,"column":2195}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":165,"column":56},"generated":{"line":2,"column":2197}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":166,"column":8},"generated":{"line":2,"column":2233}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"parseNested","original":{"line":166,"column":16},"generated":{"line":2,"column":2235}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":167,"column":6},"generated":{"line":2,"column":2249}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"body","original":{"line":167,"column":10},"generated":{"line":2,"column":2251}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"processNested","original":{"line":167,"column":17},"generated":{"line":2,"column":2256}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":167,"column":31},"generated":{"line":2,"column":2258}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"body","original":{"line":167,"column":35},"generated":{"line":2,"column":2260}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":168,"column":6},"generated":{"line":2,"column":2266}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"files","original":{"line":168,"column":10},"generated":{"line":2,"column":2268}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"processNested","original":{"line":168,"column":18},"generated":{"line":2,"column":2274}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":168,"column":32},"generated":{"line":2,"column":2276}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"files","original":{"line":168,"column":36},"generated":{"line":2,"column":2278}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":171,"column":9},"generated":{"line":2,"column":2287}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"waitFlushProperty","original":{"line":171,"column":13},"generated":{"line":2,"column":2289}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":171,"column":33},"generated":{"line":2,"column":2292}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"next","original":{"line":171,"column":40},"generated":{"line":2,"column":2299}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"Promise","original":{"line":172,"column":4},"generated":{"line":2,"column":2303}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"all","original":{"line":172,"column":12},"generated":{"line":2,"column":2311}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":172,"column":16},"generated":{"line":2,"column":2315}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"waitFlushProperty","original":{"line":172,"column":20},"generated":{"line":2,"column":2317}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"then","original":{"line":173,"column":7},"generated":{"line":2,"column":2321}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":173,"column":12},"generated":{"line":2,"column":2326}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":174,"column":15},"generated":{"line":2,"column":2344}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"waitFlushProperty","original":{"line":174,"column":19},"generated":{"line":2,"column":2346}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"next","original":{"line":175,"column":8},"generated":{"line":2,"column":2349}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"busboy","original":{"line":179,"column":2},"generated":{"line":2,"column":2357}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"on","original":{"line":179,"column":9},"generated":{"line":2,"column":2359}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":179,"column":12},"generated":{"line":2,"column":2362}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":179,"column":21},"generated":{"line":2,"column":2370}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"err","original":{"line":179,"column":22},"generated":{"line":2,"column":2379}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"debugLog","original":{"line":180,"column":4},"generated":{"line":2,"column":2382}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"options","original":{"line":180,"column":13},"generated":{"line":2,"column":2384}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","original":{"line":180,"column":36},"generated":{"line":2,"column":2386}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"next","original":{"line":181,"column":4},"generated":{"line":2,"column":2402}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"err","original":{"line":181,"column":9},"generated":{"line":2,"column":2404}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"req","original":{"line":184,"column":2},"generated":{"line":2,"column":2409}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"pipe","original":{"line":184,"column":6},"generated":{"line":2,"column":2411}},{"source":"node_modules/express-fileupload/lib/processMultipart.js","name":"busboy","original":{"line":184,"column":11},"generated":{"line":2,"column":2416}}],"sources":{"node_modules/express-fileupload/lib/processMultipart.js":"const Busboy = require('busboy');\r\nconst UploadTimer = require('./uploadtimer');\r\nconst fileFactory = require('./fileFactory');\r\nconst memHandler = require('./memHandler');\r\nconst tempFileHandler = require('./tempFileHandler');\r\nconst processNested = require('./processNested');\r\nconst {\r\n  isFunc,\r\n  debugLog,\r\n  buildFields,\r\n  buildOptions,\r\n  parseFileName\r\n} = require('./utilities');\r\n\r\nconst waitFlushProperty = Symbol('wait flush property symbol');\r\n\r\n/**\r\n * Processes multipart request\r\n * Builds a req.body object for fields\r\n * Builds a req.files object for files\r\n * @param  {Object}   options expressFileupload and Busboy options\r\n * @param  {Object}   req     Express request object\r\n * @param  {Object}   res     Express response object\r\n * @param  {Function} next    Express next method\r\n * @return {void}\r\n */\r\nmodule.exports = (options, req, res, next) => {\r\n  req.files = null;\r\n\r\n  // Build busboy options and init busboy instance.\r\n  const busboyOptions = buildOptions(options, { headers: req.headers });\r\n  const busboy = Busboy(busboyOptions);\r\n\r\n  /**\r\n   * Closes connection with specified reason and http code.\r\n   * @param {number} code HTTP response code, default: 400.\r\n   * @param {*} reason Reason to close connection, default: 'Bad Request'.\r\n   */\r\n  const closeConnection = (code, reason) => {\r\n    req.unpipe(busboy);\r\n    req.resume();\r\n    if (res.headersSent) {\r\n      debugLog(options, 'Headers already sent, can\\'t close connection.');\r\n      return;\r\n    }\r\n    const resCode = code || 400;\r\n    const resReason = reason || 'Bad Request';\r\n    debugLog(options, `Closing connection with ${resCode}: ${resReason}`);\r\n    res.writeHead(resCode, { Connection: 'close' });\r\n    res.end(resReason);\r\n  };\r\n\r\n  // Express proxies sometimes attach multipart data to a buffer\r\n  if (req.body instanceof Buffer) {\r\n    req.body = Object.create(null);\r\n  }\r\n  // Build multipart req.body fields\r\n  busboy.on('field', (field, val) => req.body = buildFields(req.body, field, val));\r\n\r\n  // Build req.files fields\r\n  busboy.on('file', (field, file, info) => {\r\n    // Parse file name(cutting huge names, decoding, etc..).\r\n    const {filename:name, encoding, mimeType: mime} = info;\r\n    const filename = parseFileName(options, name);\r\n    // Define methods and handlers for upload process.\r\n    const {\r\n      dataHandler,\r\n      getFilePath,\r\n      getFileSize,\r\n      getHash,\r\n      complete,\r\n      cleanup,\r\n      getWritePromise\r\n    } = options.useTempFiles\r\n      ? tempFileHandler(options, field, filename) // Upload into temporary file.\r\n      : memHandler(options, field, filename);     // Upload into RAM.\r\n\r\n    const writePromise = options.useTempFiles\r\n      ? getWritePromise().catch(err => {\r\n        req.unpipe(busboy);\r\n        req.resume();\r\n        cleanup();\r\n        next(err);\r\n      }) : getWritePromise();\r\n\r\n    // Define upload timer.\r\n    const uploadTimer = new UploadTimer(options.uploadTimeout, () => {\r\n      file.removeAllListeners('data');\r\n      file.resume();\r\n      // After destroy an error event will be emitted and file clean up will be done.\r\n      // In some cases file.destroy() doesn't exist, so we need to check this, see issue:\r\n      // https://github.com/richardgirges/express-fileupload/issues/259.\r\n      const err = new Error(`Upload timeout for ${field}->${filename}, bytes:${getFileSize()}`);\r\n      return isFunc(file.destroy) ? file.destroy(err) : file.emit('error', err);\r\n    });\r\n\r\n    file.on('limit', () => {\r\n      debugLog(options, `Size limit reached for ${field}->${filename}, bytes:${getFileSize()}`);\r\n      // Reset upload timer in case of file limit reached.\r\n      uploadTimer.clear();\r\n      // Run a user defined limit handler if it has been set.\r\n      if (isFunc(options.limitHandler)) {\r\n        options.limitHandler(req, res, next);\r\n      }\r\n      // Close connection with 413 code and do cleanup if abortOnLimit set(default: false).\r\n      if (options.abortOnLimit) {\r\n        debugLog(options, `Aborting upload because of size limit ${field}->${filename}.`);\r\n        closeConnection(413, options.responseOnLimit);\r\n        cleanup();\r\n      }\r\n    });\r\n\r\n    file.on('data', (data) => {\r\n      uploadTimer.set(); // Refresh upload timer each time new data chunk came.\r\n      dataHandler(data); // Handle new piece of data.\r\n    });\r\n\r\n    file.on('end', () => {\r\n      const size = getFileSize();\r\n      // Debug logging for file upload ending.\r\n      debugLog(options, `Upload finished ${field}->${filename}, bytes:${size}`);\r\n      // Reset upload timer in case of end event.\r\n      uploadTimer.clear();\r\n      // See https://github.com/richardgirges/express-fileupload/issues/191\r\n      // Do not add file instance to the req.files if original name and size are empty.\r\n      // Empty name and zero size indicates empty file field in the posted form.\r\n      if (!name && size === 0) {\r\n        if (options.useTempFiles) {\r\n          cleanup();\r\n          debugLog(options, `Removing the empty file ${field}->${filename}`);\r\n        }\r\n        return debugLog(options, `Don't add file instance if original name and size are empty`);\r\n      }\r\n      req.files = buildFields(req.files, field, fileFactory({\r\n        buffer: complete(),\r\n        name: filename,\r\n        tempFilePath: getFilePath(),\r\n        hash: getHash(),\r\n        size,\r\n        encoding,\r\n        truncated: file.truncated,\r\n        mimetype: mime\r\n      }, options));\r\n\r\n      if (!req[waitFlushProperty]) {\r\n        req[waitFlushProperty] = [];\r\n      }\r\n      req[waitFlushProperty].push(writePromise);\r\n    });\r\n\r\n    file.on('error', (err) => {\r\n      uploadTimer.clear(); // Reset upload timer in case of errors.\r\n      debugLog(options, err);\r\n      cleanup();\r\n      next();\r\n    });\r\n\r\n    // Debug logging for a new file upload.\r\n    debugLog(options, `New upload started ${field}->${filename}, bytes:${getFileSize()}`);\r\n    // Set new upload timeout for a new file.\r\n    uploadTimer.set();\r\n  });\r\n\r\n  busboy.on('finish', () => {\r\n    debugLog(options, `Busboy finished parsing request.`);\r\n    if (options.parseNested) {\r\n      req.body = processNested(req.body);\r\n      req.files = processNested(req.files);\r\n    }\r\n\r\n    if (!req[waitFlushProperty]) return next();\r\n    Promise.all(req[waitFlushProperty])\r\n      .then(() => {\r\n        delete req[waitFlushProperty];\r\n        next();\r\n      });\r\n  });\r\n\r\n  busboy.on('error', (err) => {\r\n    debugLog(options, `Busboy error`);\r\n    next(err);\r\n  });\r\n\r\n  req.pipe(busboy);\r\n};\r\n"},"lineCount":null}},"error":null,"hash":"93d2edf60fa80dfb9ca31bba09df1241","cacheData":{"env":{}}}